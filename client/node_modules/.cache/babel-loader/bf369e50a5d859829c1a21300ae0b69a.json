{"ast":null,"code":"var _jsxFileName = \"/Users/devante/personalProjects/seeds/seed/client/src/components/TheForm/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from 'react';\nimport { Button, Form } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction TheForm() {\n  _s();\n\n  const [formState, setFormState] = useState({\n    username: '',\n    location: ''\n  });\n  const [characterCount, setCharacterCount] = useState(0);\n  const fileInput = useRef(null);\n\n  const handleChange = event => {\n    if (event.target.value.length <= 280) {\n      setFormState({ ...formState,\n        [event.target.name]: event.target.value\n      });\n      setCharacterCount(event.target.value.length);\n    }\n  };\n\n  const handleImageUpload = event => {\n    event.preventDefault();\n    const data = new FormData();\n    data.append('image', fileInput.current.files[0]);\n\n    const postImage = async () => {\n      try {\n        const res = await fetch('/api/file-upload', {\n          mode: 'cors',\n          method: 'POST',\n          body: data\n        });\n        if (!res.ok) throw new Error(res.statusText);\n        const postResponse = await res.json();\n        setFormState({ ...formState,\n          image: postResponse.Location\n        });\n        console.log(\"postImage: \", postResponse.Location);\n        return postResponse.Location;\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    postImage();\n  }; // submit form\n\n\n  const handleFormSubmit = event => {\n    event.preventDefault(); // POST method with formState\n\n    const postData = async () => {\n      const res = await fetch('/api/users', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formState)\n      });\n      const data = await res.json();\n      console.log(data);\n    };\n\n    postData(); // clear form value\n\n    setFormState({\n      username: '',\n      plantName: '',\n      location: '',\n      cost: ''\n    });\n    setCharacterCount(0);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    className: \"flex-row justify-center justify-space-between-md align-stretch\",\n    onSubmit: handleFormSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Plant Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        placeholder: \"Eastern Redbud\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        placeholder: \"Austin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Plant/Seed Cost\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        placeholder: \"$5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: `m-0 ${characterCount === 280 ? 'text-error' : ''}`,\n        children: [\"Character Count: \", characterCount, \"/280\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        placeholder: \"Description of your plant\",\n        name: \"plantPost\",\n        value: formState.plantPost,\n        className: \"form-input col-12 col-md-9\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form-input col-12  p-1\",\n        children: [\"Add an image of your plant:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          ref: fileInput,\n          className: \"form-input p-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: handleImageUpload,\n          type: \"submit\",\n          children: \"Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: \"btn col-12 col-md-3\",\n      type: \"submit\",\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 17\n  }, this);\n}\n\n_s(TheForm, \"WHhJtp5Djfh12LnKMbPfZi4ENPg=\");\n\n_c = TheForm;\nexport default TheForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"TheForm\");","map":{"version":3,"sources":["/Users/devante/personalProjects/seeds/seed/client/src/components/TheForm/index.js"],"names":["React","useState","useRef","Button","Form","TheForm","formState","setFormState","username","location","characterCount","setCharacterCount","fileInput","handleChange","event","target","value","length","name","handleImageUpload","preventDefault","data","FormData","append","current","files","postImage","res","fetch","mode","method","body","ok","Error","statusText","postResponse","json","image","Location","console","log","error","handleFormSubmit","postData","headers","Accept","JSON","stringify","plantName","cost","plantPost"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Button, Form } from 'react-bootstrap';\n\n\nfunction TheForm() {\n\n    const [formState, setFormState] = useState({ username: '', location: '' });\n    const [characterCount, setCharacterCount] = useState(0);\n    const fileInput = useRef(null);\n\n    const handleChange = event => {\n        if (event.target.value.length <= 280) {\n          setFormState({ ...formState, [event.target.name]: event.target.value });\n          setCharacterCount(event.target.value.length);\n        }\n      };\n\n      const handleImageUpload = event => {\n        event.preventDefault();\n        const data = new FormData();\n        data.append('image', fileInput.current.files[0]);\n      \n        const postImage = async () => {\n          try {\n            const res = await fetch('/api/file-upload', {\n              mode: 'cors',\n              method: 'POST',\n              body: data\n            })\n            if (!res.ok) throw new Error(res.statusText);\n            const postResponse = await res.json();\n            setFormState({...formState, image: postResponse.Location})\n            console.log(\"postImage: \", postResponse.Location)\n            return postResponse.Location;\n          } catch (error) {\n            console.log(error);\n          }\n        };\n        postImage();\n      };\n\n                // submit form\n        const handleFormSubmit = event => {\n            event.preventDefault();\n            // POST method with formState\n            const postData = async () => {\n            const res = await fetch('/api/users', {\n                method: 'POST',\n                headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(formState)\n            })\n            const data = await res.json();\n            console.log(data);\n            }\n            postData();\n            // clear form value\n            setFormState({ username: '', plantName: '' , location: '', cost: '', });\n            setCharacterCount(0);\n        };\n\n\n    return (\n                <Form className=\"flex-row justify-center justify-space-between-md align-stretch\"\n                onSubmit={handleFormSubmit}>\n        <Form.Group >\n            <Form.Label>Plant Name</Form.Label>\n            <Form.Control type=\"text\" placeholder=\"Eastern Redbud\" />\n            \n        </Form.Group>\n        <Form.Group >\n            <Form.Label>Location</Form.Label>\n            <Form.Control type=\"text\" placeholder=\"Austin\" />\n            \n        </Form.Group>\n        <Form.Group >\n            <Form.Label>Plant/Seed Cost</Form.Label>\n            <Form.Control type=\"text\" placeholder=\"$5\" />\n            \n        </Form.Group>\n        <Form.Group >\n            <Form.Label>Description</Form.Label>\n            <p className={`m-0 ${characterCount === 280 ? 'text-error' : ''}`}>\n        Character Count: {characterCount}/280\n          {/* {error && <span className=\"ml-2\">Something went wrong...</span>} */}\n      </p>\n      <Form.Control placeholder=\"Description of your plant\"\n          name=\"plantPost\"\n          value={formState.plantPost}\n          className=\"form-input col-12 col-md-9\"\n          onChange={handleChange}>\n      \n          \n        \n        </Form.Control>\n            \n        </Form.Group>\n        <Form.Group>\n        <label className=\"form-input col-12  p-1\">\n            Add an image of your plant: \n            <input\n              type=\"file\"\n              ref={fileInput}\n              className=\"form-input p-2\"\n            />\n            <button \n              className=\"btn\" \n              onClick={handleImageUpload} \n              type=\"submit\"\n            >\n              Upload\n            </button>\n          </label>\n        </Form.Group>\n\n        \n        <Button className=\"btn col-12 col-md-3\" type=\"submit\">\n            Submit\n        </Button >\n        </Form>\n\n        \n    )\n}\nexport default TheForm\n"]},"metadata":{},"sourceType":"module"}